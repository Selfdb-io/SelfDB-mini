{"openapi": "3.1.0", "info": {"title": "SelfDB-mini", "description": "A minimal implementation", "version": "0.0.1"}, "paths": {"/users/token": {"post": {"tags": ["users"], "summary": "Login", "operationId": "login_for_access_token_users_token_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/LoginRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Token"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "parameters": [{"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}]}}, "/users/me": {"get": {"tags": ["users"], "summary": "Get Current User", "operationId": "read_users_me_users_me_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserRead"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}}, "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}]}}, "/users/count": {"get": {"tags": ["users"], "summary": "Get User Count", "description": "Get total number of users, optionally filtered by search term. Requires authentication.", "operationId": "get_user_count_users_count_get", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "search", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "maxLength": 100, "pattern": "^[\\x20-\\x7E]*$"}, {"type": "null"}], "description": "Search term for filtering by email, first name, or last name", "title": "Search"}, "description": "Search term for filtering by email, first name, or last name"}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "integer", "title": "Response Get User Count Users Count Get"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/users/": {"post": {"tags": ["users"], "summary": "Create User", "operationId": "create_user_users__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserRead"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "parameters": [{"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}]}, "get": {"tags": ["users"], "summary": "List Users", "description": "List users with optional search and sorting. Requires authentication.\n\n- **search**: Filter by email, first name, or last name (case-insensitive, printable ASCII only)\n- **sort_by**: Field to sort by (created_at, email, first_name, last_name)\n- **sort_order**: Sort direction (asc or desc, default: desc)", "operationId": "read_users_users__get", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 2147483647, "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 100, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "search", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "maxLength": 100, "pattern": "^[\\x20-\\x7E]*$"}, {"type": "null"}], "description": "Search term for filtering by email, first name, or last name", "title": "Search"}, "description": "Search term for filtering by email, first name, or last name"}, {"name": "sort_by", "in": "query", "required": false, "schema": {"enum": ["created_at", "email", "first_name", "last_name"], "type": "string", "description": "Field to sort by", "default": "created_at", "title": "Sort By"}, "description": "Field to sort by"}, {"name": "sort_order", "in": "query", "required": false, "schema": {"enum": ["asc", "desc"], "type": "string", "description": "Sort order (ascending or descending)", "default": "desc", "title": "Sort Order"}, "description": "Sort order (ascending or descending)"}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/UserRead"}, "title": "Response Read Users Users  Get"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/users/{user_id}": {"get": {"tags": ["users"], "summary": "Read User", "operationId": "read_user_users__user_id__get", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "user_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "User Id"}}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserRead"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "patch": {"tags": ["users"], "summary": "Update User", "operationId": "update_user_users__user_id__patch", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "user_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "User Id"}}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserRead"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["users"], "summary": "Delete User", "operationId": "delete_user_users__user_id__delete", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "user_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "User Id"}}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "responses": {"204": {"description": "Successful Response"}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/tables/count": {"get": {"tags": ["tables"], "summary": "Get Table Count", "description": "Get total number of tables accessible to the user, optionally filtered by search term.", "operationId": "get_table_count_tables_count_get", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "search", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "maxLength": 100, "pattern": "^[\\x20-\\x7E]*$"}, {"type": "null"}], "description": "Search term for filtering by name or description", "title": "Search"}, "description": "Search term for filtering by name or description"}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "integer", "title": "Response Get Table Count Tables Count Get"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/tables/": {"post": {"tags": ["tables"], "summary": "Create Table", "description": "Create a new table. Requires authentication.", "operationId": "create_table_tables__post", "security": [{"OAuth2PasswordBearer": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TableCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TableRead"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "parameters": [{"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}]}, "get": {"tags": ["tables"], "summary": "List Tables", "description": "List tables with optional search and sorting.\n\n- **search**: Filter by name or description (case-insensitive, printable ASCII only)\n- **sort_by**: Field to sort by (created_at, updated_at, name)\n- **sort_order**: Sort direction (asc or desc, default: desc)\n\nReturns:\n- For unauthenticated users: Only public tables\n- For authenticated users: Public tables + tables owned by the user", "operationId": "read_tables_tables__get", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 2147483647, "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 100, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "search", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "maxLength": 100, "pattern": "^[\\x20-\\x7E]*$"}, {"type": "null"}], "description": "Search term for filtering by name or description", "title": "Search"}, "description": "Search term for filtering by name or description"}, {"name": "sort_by", "in": "query", "required": false, "schema": {"enum": ["created_at", "updated_at", "name"], "type": "string", "description": "Field to sort by", "default": "created_at", "title": "Sort By"}, "description": "Field to sort by"}, {"name": "sort_order", "in": "query", "required": false, "schema": {"enum": ["asc", "desc"], "type": "string", "description": "Sort order (ascending or descending)", "default": "desc", "title": "Sort Order"}, "description": "Sort order (ascending or descending)"}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/TableRead"}, "title": "Response Read Tables Tables  Get"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/tables/{table_id}": {"get": {"tags": ["tables"], "summary": "Get Table", "description": "Get a specific table by ID.\n- Public tables: Accessible to anyone (with or without authentication)\n- Private tables: Must be authenticated and be the owner", "operationId": "read_table_tables__table_id__get", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "table_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Table Id"}}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TableRead"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "patch": {"tags": ["tables"], "summary": "Update Table", "description": "Update a table. Only the owner or admin can update.", "operationId": "update_table_tables__table_id__patch", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "table_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Table Id"}}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TableUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TableRead"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["tables"], "summary": "Delete Table", "description": "Delete a table. Only the owner or admin can delete.", "operationId": "delete_table_tables__table_id__delete", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "table_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Table Id"}}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "responses": {"204": {"description": "Successful Response"}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/tables/{table_id}/columns": {"post": {"tags": ["tables"], "summary": "Add Column to Table", "description": "Add a new column to an existing table. Only owner or admin can add columns.", "operationId": "add_column_tables__table_id__columns_post", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "table_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Table Id"}}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ColumnDefinition"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/tables/{table_id}/columns/{column_name}": {"patch": {"tags": ["tables"], "summary": "Update Column", "description": "Update column properties. Only owner or admin can update columns.", "operationId": "update_column_tables__table_id__columns__column_name__patch", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "table_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Table Id"}}, {"name": "column_name", "in": "path", "required": true, "schema": {"type": "string", "title": "Column Name"}}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ColumnUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["tables"], "summary": "Delete Column", "description": "Delete a column from a table. Only owner or admin can delete columns.", "operationId": "delete_column_tables__table_id__columns__column_name__delete", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "table_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Table Id"}}, {"name": "column_name", "in": "path", "required": true, "schema": {"type": "string", "title": "Column Name"}}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/tables/{table_id}/data": {"get": {"tags": ["tables"], "summary": "Get Table Data", "description": "Get paginated data from a table with optional search and sorting.\n\n- **search**: Filter rows by searching across all text/varchar columns (case-insensitive)\n- **sort_by**: Column name to sort by (must be a valid column in the table)\n- **sort_order**: Sort direction (asc or desc, default: desc)\n\nAccess:\n- Public tables: Accessible to anyone\n- Private tables: Owner only", "operationId": "get_table_data_tables__table_id__data_get", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "table_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Table Id"}}, {"name": "page", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Page Size"}}, {"name": "search", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "maxLength": 100, "pattern": "^[\\x20-\\x7E]*$"}, {"type": "null"}], "description": "Search term for filtering across all text columns", "title": "Search"}, "description": "Search term for filtering across all text columns"}, {"name": "sort_by", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "description": "Column name to sort by", "title": "Sort By"}, "description": "Column name to sort by"}, {"name": "sort_order", "in": "query", "required": false, "schema": {"enum": ["asc", "desc"], "type": "string", "description": "Sort order (ascending or descending)", "default": "desc", "title": "Sort Order"}, "description": "Sort order (ascending or descending)"}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TableDataResponse"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["tables"], "summary": "Insert Row", "description": "Insert a new row into the table.\n- Public tables: Anyone can insert (with or without authentication) - useful for blog comments, likes, feedback\n- Private tables: Only owner or admin can insert", "operationId": "insert_row_tables__table_id__data_post", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "table_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Table Id"}}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "additionalProperties": true, "title": "Row Data"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/tables/{table_id}/data/{row_id}": {"patch": {"tags": ["tables"], "summary": "Update Row", "description": "Update a row in the table. Only owner or admin can update.", "operationId": "update_row_tables__table_id__data__row_id__patch", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "table_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Table Id"}}, {"name": "row_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Row Id"}}, {"name": "id_column", "in": "query", "required": false, "schema": {"type": "string", "default": "id", "title": "Id Column"}}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "additionalProperties": true, "title": "Updates"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["tables"], "summary": "Delete Row", "description": "Delete a row from the table. Only owner or admin can delete.", "operationId": "delete_row_tables__table_id__data__row_id__delete", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "table_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Table Id"}}, {"name": "row_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Row Id"}}, {"name": "id_column", "in": "query", "required": false, "schema": {"type": "string", "default": "id", "title": "Id Column"}}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "responses": {"204": {"description": "Successful Response"}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "409": {"description": "Conflict", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/system/status": {"get": {"tags": ["system"], "summary": "Get System Status", "description": "Returns system initialization status. Requires API key.", "operationId": "get_system_status_system_status_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SystemStatus"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}}, "parameters": [{"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}]}}, "/backups": {"get": {"tags": ["backups"], "summary": "List Backups", "description": "List all available backups. Admin only.", "operationId": "list_all_backups_backups_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/BackupInfo"}, "type": "array", "title": "Response List All Backups Backups Get"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}}, "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}]}, "post": {"tags": ["backups"], "summary": "Create Backup", "description": "Create a new backup of the database and configuration. Admin only.", "operationId": "create_new_backup_backups_post", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BackupResult"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}}, "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}]}}, "/backups/restore": {"post": {"tags": ["backups"], "summary": "Restore from Backup", "description": "Upload and restore from a backup file. Only works on fresh installs.", "operationId": "restore_from_backup_file_backups_restore_post", "requestBody": {"content": {"multipart/form-data": {"schema": {"$ref": "#/components/schemas/Body_restore_from_backup_file_backups_restore_post"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RestoreResult"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "parameters": [{"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}]}}, "/backups/{filename}/download": {"get": {"tags": ["backups"], "summary": "Download Backup", "description": "Download a backup file. Admin only.", "operationId": "download_backup_backups__filename__download_get", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "filename", "in": "path", "required": true, "schema": {"type": "string", "title": "Filename"}}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "responses": {"200": {"description": "Backup file download", "content": {"application/json": {"schema": {}}, "application/gzip": {}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/backups/{filename}": {"delete": {"tags": ["backups"], "summary": "Delete Backup", "description": "Delete a backup file. Admin only.", "operationId": "delete_backup_file_backups__filename__delete", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "filename", "in": "path", "required": true, "schema": {"type": "string", "title": "Filename"}}, {"name": "X-API-Key", "in": "header", "required": true, "schema": {"type": "string"}, "description": "API key required for all endpoints (validated by middleware)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "additionalProperties": true, "title": "Response Delete Backup File Backups  Filename  Delete"}}}}, "400": {"description": "Bad Request", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "401": {"description": "Unauthorized", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "403": {"description": "Forbidden", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "404": {"description": "Not Found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "405": {"description": "Method Not Allowed", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "406": {"description": "Not Acceptable", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/endpoints__backups__ErrorResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}}, "components": {"schemas": {"BackupInfo": {"properties": {"filename": {"type": "string", "title": "Filename"}, "size": {"type": "integer", "title": "Size"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["filename", "size", "created_at"], "title": "BackupInfo"}, "BackupResult": {"properties": {"success": {"type": "boolean", "title": "Success"}, "filename": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Filename"}, "message": {"type": "string", "title": "Message"}}, "type": "object", "required": ["success", "message"], "title": "BackupResult"}, "Body_restore_from_backup_file_backups_restore_post": {"properties": {"file": {"type": "string", "format": "binary", "title": "File", "description": "Backup tar.gz file to restore from"}}, "type": "object", "required": ["file"], "title": "Body_restore_from_backup_file_backups_restore_post"}, "ColumnDefinition": {"properties": {"name": {"type": "string", "title": "Name"}, "type": {"type": "string", "title": "Type"}, "nullable": {"type": "boolean", "title": "Nullable", "default": true}, "default": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Default"}}, "type": "object", "required": ["name", "type"], "title": "ColumnDefinition", "description": "Model for adding a new column to a table."}, "ColumnUpdate": {"properties": {"new_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "New Name"}, "type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Type"}, "nullable": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Nullable"}, "default": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Default"}}, "type": "object", "title": "ColumnUpdate", "description": "Model for updating column properties."}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "LoginRequest": {"properties": {"email": {"type": "string", "format": "email", "title": "Email"}, "password": {"type": "string", "maxLength": 72, "minLength": 1, "pattern": "^[\\x20-\\x7E]+$", "title": "Password"}}, "additionalProperties": false, "type": "object", "required": ["email", "password"], "title": "LoginRequest"}, "RestoreResult": {"properties": {"success": {"type": "boolean", "title": "Success"}, "message": {"type": "string", "title": "Message"}}, "type": "object", "required": ["success", "message"], "title": "RestoreResult"}, "SystemStatus": {"properties": {"initialized": {"type": "boolean", "title": "Initialized"}, "version": {"type": "string", "title": "Version"}}, "type": "object", "required": ["initialized", "version"], "title": "SystemStatus"}, "TableCreate": {"properties": {"name": {"type": "string", "maxLength": 63, "minLength": 1, "pattern": "^[a-z][a-z0-9_]*$", "title": "Name", "description": "Table name (lowercase letters, numbers, underscores, must start with letter)"}, "schema": {"additionalProperties": true, "type": "object", "title": "Schema", "description": "JSON schema definition for table structure"}, "public": {"type": "boolean", "title": "Public", "default": false}, "description": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Description"}, "metadata": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Metadata"}}, "additionalProperties": false, "type": "object", "required": ["name", "schema"], "title": "TableCreate", "examples": [{"description": "Product catalog table", "metadata": {"version": "1.0"}, "name": "products", "public": true, "schema": {"properties": {"name": {"type": "string"}, "price": {"type": "number"}}, "type": "object"}}]}, "TableDataResponse": {"properties": {"data": {"items": {"additionalProperties": true, "type": "object"}, "type": "array", "title": "Data"}, "total": {"type": "integer", "title": "Total"}, "page": {"type": "integer", "title": "Page"}, "page_size": {"type": "integer", "title": "Page Size"}}, "type": "object", "required": ["data", "total", "page", "page_size"], "title": "TableDataResponse", "description": "Response model for table data with metadata."}, "TableRead": {"properties": {"name": {"type": "string", "maxLength": 63, "minLength": 1, "pattern": "^[a-z][a-z0-9_]*$", "title": "Name"}, "schema": {"additionalProperties": true, "type": "object", "title": "Schema", "description": "JSON schema definition for table structure"}, "public": {"type": "boolean", "title": "Public", "default": false}, "description": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Description"}, "metadata": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Metadata"}, "id": {"type": "string", "format": "uuid", "title": "Id"}, "owner_id": {"type": "string", "format": "uuid", "title": "Owner Id"}, "row_count": {"type": "integer", "title": "Row Count", "default": 0}, "created_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Created At"}, "updated_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Updated At"}}, "type": "object", "required": ["name", "schema", "id", "owner_id"], "title": "TableRead", "examples": [{"description": "Product catalog table", "name": "products", "public": true, "schema": {"properties": {"name": {"type": "string"}}, "type": "object"}}]}, "TableUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 63, "minLength": 1, "pattern": "^[a-z][a-z0-9_]*$"}, {"type": "null"}], "title": "Name"}, "schema": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Schema"}, "public": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Public"}, "description": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Description"}, "metadata": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Metadata"}}, "additionalProperties": false, "type": "object", "title": "TableUpdate", "examples": [{"description": "Updated product table", "public": false}]}, "Token": {"properties": {"access_token": {"type": "string", "title": "Access Token"}, "token_type": {"type": "string", "title": "Token Type"}}, "type": "object", "required": ["access_token", "token_type"], "title": "Token"}, "UserCreate": {"properties": {"email": {"type": "string", "format": "email", "title": "Email"}, "firstName": {"type": "string", "maxLength": 100, "pattern": "^[A-Za-z \\'\\-]+$", "title": "Firstname"}, "lastName": {"type": "string", "maxLength": 100, "pattern": "^[A-Za-z \\'\\-]+$", "title": "Lastname"}, "password": {"type": "string", "maxLength": 72, "minLength": 8, "pattern": "^[A-Za-z0-9@$!%*?&]{8,72}$", "title": "Password", "writeOnly": true}}, "additionalProperties": false, "type": "object", "required": ["email", "firstName", "lastName", "password"], "title": "UserCreate"}, "UserRead": {"properties": {"email": {"type": "string", "format": "email", "title": "Email"}, "firstName": {"type": "string", "maxLength": 100, "pattern": "^[A-Za-z \\'\\-]+$", "title": "Firstname"}, "lastName": {"type": "string", "maxLength": 100, "pattern": "^[A-Za-z \\'\\-]+$", "title": "Lastname"}, "role": {"$ref": "#/components/schemas/UserRole", "default": "USER"}, "isActive": {"type": "boolean", "title": "Isactive", "default": true}, "id": {"type": "string", "format": "uuid", "title": "Id"}, "created_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Created At"}}, "type": "object", "required": ["email", "firstName", "lastName", "id"], "title": "UserRead"}, "UserRole": {"type": "string", "enum": ["USER", "ADMIN"], "title": "UserRole"}, "UserUpdate": {"properties": {"email": {"anyOf": [{"type": "string", "format": "email"}, {"type": "null"}], "title": "Email"}, "password": {"anyOf": [{"type": "string", "maxLength": 72, "minLength": 8, "format": "password", "writeOnly": true}, {"type": "null"}], "pattern": "^[A-Za-z0-9@$!%*?&]{8,72}$", "title": "Password"}, "role": {"anyOf": [{"$ref": "#/components/schemas/UserRole"}, {"type": "null"}]}, "isActive": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Isactive"}, "firstName": {"anyOf": [{"type": "string", "maxLength": 100, "pattern": "^[A-Za-z \\'\\-]+$"}, {"type": "null"}], "title": "Firstname"}, "lastName": {"anyOf": [{"type": "string", "maxLength": 100, "pattern": "^[A-Za-z \\'\\-]+$"}, {"type": "null"}], "title": "Lastname"}}, "additionalProperties": false, "type": "object", "title": "UserUpdate", "examples": [{"email": "updated@example.com", "is_active": false, "password": "NewPass123!"}]}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}, "endpoints__backups__ErrorResponse": {"properties": {"detail": {"type": "string", "title": "Detail"}}, "type": "object", "required": ["detail"], "title": "ErrorResponse"}}, "securitySchemes": {"OAuth2PasswordBearer": {"type": "oauth2", "flows": {"password": {"scopes": {}, "tokenUrl": "/users/token"}}}}}}
